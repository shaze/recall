



manifest {
    homePage = 'http://github.com/shaze/recall'
    description = 'Recalling using deepvariant and glnexus'
    mainScript = 'main.nf'
}

params {

   ref_seq = "38.fa"
   ref_fai = "38.fai"
   ref_mmi = "38.mmi"

   build = 'b38'
   
   tandem_example = "human_GRCh38_no_alt_analysis_set.trf.bed"
   bamify_cpus  = 8
   glnexus_cpus = 40
   bamify_mem   = "32 GB"
   call_cpus=8
   call_mem="16 GB"
   bam = "bam_folder"
   vcf = "vcf_folder"
   out  = "joint"
   gvcfs = "/external/diskB/recall/gvcf/*"   
   scratch = "/local/scott/scratch"
   ref_seq = "/dataB/aux/38/Homo_sapiens_assembly38/Homo_sapiens_assembly38.fasta"   
}


process {
    withLabel: deepvariant {
        container="docker://google/deepvariant" 
    }


}


profiles {

    // For execution on a local machine, no containerization. -- Default
    standard {
        process.executor = 'local'
    }



    slurm {
        process.executor = 'slurm'
        process.queue = 'batch'
	process.clusterOptions="--constraint=avx2"
    }



    singularity {
        singularity.autoMounts = true
        singularity.enabled = true
    }


}